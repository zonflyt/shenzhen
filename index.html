<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ·±åœ³ Â· å±±æµ·è¿åŸï¼šåŸå¸‚å»ºæˆåŒºå˜åŒ– (1985-2020)</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        * { box-sizing: border-box; }
        
        body {
            margin: 0;
            padding: 0;
            background-color: #f0ebe5;
            font-family: 'Noto Serif SC', serif;
            color: #5d5d5d;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
        }

        .main-wrapper {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .scroll-container {
            width: 100%;
            height: 100%;
            background: #fffcf5;
            position: relative;
            border: none;
            border-radius: 0;
        }

        .texture-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.04;
            background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
            pointer-events: none;
            z-index: 0;
        }

        .header-info {
            position: absolute;
            top: 30px;
            left: 40px;
            z-index: 10;
            pointer-events: none;
        }

        h1 {
            margin: 0;
            font-size: clamp(1.5rem, 4vw, 2.2rem);
            color: #2c3e50;
            letter-spacing: 0.1em;
            text-shadow: 2px 2px 0px rgba(255,255,255,0.8);
        }

        .subtitle {
            margin-top: 8px;
            font-size: 1rem;
            color: #888;
            font-style: italic;
        }

        .controls {
            position: absolute;
            top: 30px;
            right: 40px;
            z-index: 10;
        }

        .btn {
            background: rgba(255, 255, 255, 0.9);
            border: 1px solid #aaa;
            padding: 10px 20px;
            font-family: 'Noto Serif SC', serif;
            cursor: pointer;
            border-radius: 30px;
            transition: all 0.2s;
            font-size: 0.9rem;
            color: #555;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            backdrop-filter: blur(5px);
        }

        .btn:hover {
            background: #2c3e50;
            color: white;
            border-color: #2c3e50;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .btn:active {
            transform: scale(0.98);
        }

        #chart {
            width: 100%;
            height: 100%;
            position: relative;
            z-index: 1;
        }

        .footer-note {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            font-size: 0.85rem;
            color: #999;
            text-align: center;
            z-index: 10;
            pointer-events: none;
            text-shadow: 0 1px 2px rgba(255,255,255,0.8);
        }

        /* ===== æ–°å¢äº¤äº’ï¼šæ—¶å…‰èƒ¶å›Šæ¨¡æ€æ¡†æ ·å¼ ===== */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(44, 62, 80, 0.4);
            backdrop-filter: blur(4px);
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s;
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .time-capsule {
            background: #fffcf5;
            width: 90%;
            max-width: 500px;
            padding: 40px;
            border-radius: 4px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            position: relative;
            transform: translateY(20px);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid #dcd6cc;
            text-align: center;
        }

        .modal-overlay.active .time-capsule {
            transform: translateY(0);
        }

        .time-capsule::before {
            content: '';
            position: absolute;
            top: 10px; left: 10px; right: 10px; bottom: 10px;
            border: 1px solid #e8e8e8;
            pointer-events: none;
        }

        .capsule-year {
            font-size: 3rem;
            font-weight: 700;
            color: #e67e22;
            margin-bottom: 5px;
            font-family: 'Noto Serif SC', serif;
            opacity: 0.9;
        }

        .capsule-title {
            font-size: 1.5rem;
            color: #2c3e50;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .capsule-content {
            font-size: 1rem;
            line-height: 1.8;
            color: #555;
            margin-bottom: 25px;
            text-align: justify;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            cursor: pointer;
            font-size: 1.5rem;
            color: #aaa;
            transition: color 0.2s;
            z-index: 101;
        }

        .close-modal:hover {
            color: #2c3e50;
        }

        /* æç¤ºå°åŠ¨ç”» */
        .click-hint {
            position: absolute;
            bottom: 60px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(44, 62, 80, 0.8);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.85rem;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s;
            z-index: 20;
        }
    </style>
</head>
<body>

    <div class="main-wrapper">
        <div class="scroll-container">
            <div class="texture-overlay"></div>
            <div class="header-info">
                <h1>æ·±åœ³ Â· å±±æµ·è¿åŸï¼šåŸå¸‚å»ºæˆåŒºå˜åŒ–</h1>
                <div class="subtitle">Shenzhen Urban Expansion & Built-up Area (1985-2020)</div>
            </div>
            <div class="controls">
                <button class="btn" onclick="replay()">é‡ç»˜é•¿å· / Replay</button>
            </div>
            
            <div id="chart"></div>
            
            <div class="footer-note">
                ç‚¹å‡»å›¾è¡¨ä¸­çš„å›¾æ ‡æ¢ç´¢å†å² Â· æ•°æ®æ¥æºï¼šEE-Chart Dataset
            </div>

            <!-- ç‚¹å‡»æç¤ºæ°”æ³¡ -->
            <div id="clickHint" class="click-hint">ç‚¹å‡»å›¾æ ‡æ‰“å¼€æ—¶å…‰èƒ¶å›Š</div>
        </div>
    </div>

    <!-- æ¨¡æ€æ¡†ç»“æ„ -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="time-capsule">
            <div class="close-modal" onclick="closeModal()">Ã—</div>
            <div class="capsule-year" id="modalYear">1985</div>
            <div class="capsule-title" id="modalTitle">æ¸”æ‘èµ·æ­¥</div>
            <div class="capsule-content" id="modalContent">
                å†…å®¹åŠ è½½ä¸­...
            </div>
            <div style="font-size: 0.8rem; color: #999; margin-top: 10px;">â€”â€” æ·±åœ³åŸå¸‚è®°å¿† â€”â€”</div>
        </div>
    </div>

    <script>
        // ===== æ•°æ®å‡†å¤‡ =====
        const rawData = [
            {year: '1985', value: 47.33},
            {year: '1986', value: 54.1}, 
            {year: '1987', value: 60.9}, 
            {year: '1988', value: 67.8}, 
            {year: '1989', value: 71.2},
            {year: '1990', value: 74.68},
            {year: '1991', value: 98.34},
            {year: '1992', value: 120.09},
            {year: '1993', value: 164.31},
            {year: '1994', value: 195.26},
            {year: '1995', value: 227.78},
            {year: '1996', value: 265.66},
            {year: '1997', value: 305.77},
            {year: '1998', value: 342.82},
            {year: '1999', value: 381.36},
            {year: '2000', value: 425.67},
            {year: '2001', value: 446.72},
            {year: '2002', value: 479.10},
            {year: '2003', value: 510.54},
            {year: '2004', value: 543.76},
            {year: '2005', value: 584.83},
            {year: '2006', value: 615.19},
            {year: '2007', value: 635.84},
            {year: '2008', value: 652.39},
            {year: '2009', value: 669.51},
            {year: '2010', value: 681.61},
            {year: '2011', value: 691.40},
            {year: '2012', value: 699.51},
            {year: '2013', value: 711.53},
            {year: '2014', value: 725.2},
            {year: '2015', value: 738.5},
            {year: '2016', value: 752.1},
            {year: '2017', value: 765.8},
            {year: '2018', value: 778.3},
            {year: '2019', value: 789.5},
            {year: '2020', value: 802.1} 
        ];

        const xData = rawData.map(item => item.year);
        const yData = rawData.map(item => item.value);

        // ===== å†å²æ•…äº‹æ•°æ® (æ—¶å…‰èƒ¶å›Šå†…å®¹) =====
        const stories = {
            '1985': "1980å¹´ä»£åˆï¼Œæ·±åœ³ç»æµç‰¹åŒºæˆç«‹ã€‚å½¼æ—¶çš„æ·±åœ³è¿˜åªæ˜¯ä¸€ä¸ªè¾¹é™²å†œä¸šå¿ï¼Œç½—æ¹–åŒºçš„å›½è´¸å¤§å¦åˆšåˆšåŠ¨å·¥ï¼Œâ€œä¸‰å¤©ä¸€å±‚æ¥¼â€çš„â€œæ·±åœ³é€Ÿåº¦â€æ­£åœ¨é…é…¿ã€‚åŸå¸‚éª¨æ¶å¼€å§‹æ²¿ç€æ·±å—å¤§é“å‘è¥¿å»¶ä¼¸ï¼Œè›‡å£å·¥ä¸šåŒºçš„ä¸€å£°ç‚®å“ï¼Œæ‹‰å¼€äº†ä¸­å›½æ”¹é©å¼€æ”¾çš„åºå¹•ã€‚",
            '1992': "1992å¹´é‚“å°å¹³å—å·¡ï¼Œå‘è¡¨äº†è‘—åçš„â€œå—æ–¹è°ˆè¯â€ï¼Œæ·±åœ³æ€èµ·äº†æ–°ä¸€è½®çš„å»ºè®¾ç‹‚æ½®ã€‚è¯åˆ¸äº¤æ˜“æ‰€çš„å–§åš£ã€éåœ°å¼€èŠ±çš„å·¥åœ°ï¼ŒåŸå¸‚å»ºæˆåŒºé¢ç§¯è¿…é€Ÿçªç ´100å¹³æ–¹å…¬é‡Œã€‚æ•°ä»¥ç™¾ä¸‡è®¡çš„â€œé—¯æµ·äººâ€æ¶Œå…¥è¿™ç‰‡çƒ­åœŸï¼Œè¿½å¯»æ¢¦æƒ³ã€‚",
            '2000': "åƒç¦§ä¹‹å¹´ï¼Œæ·±åœ³ç¡®ç«‹äº†é«˜æ–°æŠ€æœ¯äº§ä¸šä¸ºæ”¯æŸ±äº§ä¸šã€‚åå¼ºåŒ—æˆä¸ºâ€œä¸­å›½ç”µå­ç¬¬ä¸€è¡—â€ï¼Œè…¾è®¯ç­‰ç§‘æŠ€å·¨å¤´åœ¨æ­¤èŒèŠ½ã€‚åŸå¸‚é‡å¿ƒç»§ç»­è¥¿ç§»ï¼Œå—å±±ç§‘æŠ€å›­åˆå…·è§„æ¨¡ï¼Œâ€œæ·±åœ³åˆ¶é€ â€å¼€å§‹å‘â€œæ·±åœ³æ™ºé€ â€è½¬å‹ã€‚",
            '2004': "2004å¹´12æœˆ28æ—¥ï¼Œæ·±åœ³åœ°é“1å·çº¿ã€4å·çº¿æ­£å¼å¼€é€šï¼Œæ·±åœ³è¿ˆå…¥â€œåœ°é“æ—¶ä»£â€ã€‚åœ°ä¸‹äº¤é€šå¤§åŠ¨è„‰çš„æ‰“é€šï¼Œæå¤§åœ°æ‹‰ä¼¸äº†åŸå¸‚éª¨æ¶ï¼Œå…³å†…å¤–çš„å¿ƒç†è·ç¦»å¼€å§‹æ¶ˆèï¼ŒåŸå¸‚åŒ–è¿›ç¨‹å…¨é¢åŠ é€Ÿã€‚",
            '2011': "ç¬¬26å±Šä¸–ç•Œå¤§å­¦ç”Ÿå¤å­£è¿åŠ¨ä¼šåœ¨æ·±åœ³ä¸¾åŠï¼Œæ·±åœ³æ¹¾ä½“è‚²ä¸­å¿ƒâ€œæ˜¥èŒ§â€ç ´èŒ§æˆè¶ã€‚åæµ·ã€å‰æµ·ç‰‡åŒºå¡«æµ·é€ åœ°ï¼Œæ‘©å¤©å¤§æ¥¼æ‹”åœ°è€Œèµ·ã€‚æ·±åœ³ä¸ä»…æ˜¯ç»æµå¥‡è¿¹ï¼Œæ›´å¼€å§‹å‘ä¸–ç•Œå±•ç¤ºå…¶ä½œä¸ºç°ä»£åŒ–æ»¨æµ·åŸå¸‚çš„é­…åŠ›ã€‚",
            '2020': "æ·±åœ³ç»æµç‰¹åŒºå»ºç«‹40å‘¨å¹´ã€‚æ­¤æ—¶çš„æ·±åœ³å·²æ˜¯ç²¤æ¸¯æ¾³å¤§æ¹¾åŒºçš„æ ¸å¿ƒå¼•æ“ï¼Œå»ºè®¾ä¸­å›½ç‰¹è‰²ç¤¾ä¼šä¸»ä¹‰å…ˆè¡Œç¤ºèŒƒåŒºã€‚å‰æµ·è›‡å£è‡ªè´¸åŒºç”Ÿæœºå‹ƒå‹ƒï¼Œå…‰æ˜ç§‘å­¦åŸå¸ƒå±€æœªæ¥ã€‚ä»47å¹³æ–¹å…¬é‡Œåˆ°800+å¹³æ–¹å…¬é‡Œï¼Œè¿™åº§åŸå¸‚ç”¨40å¹´èµ°è¿‡äº†å›½å¤–å¤§åŸå¸‚ä¸Šç™¾å¹´çš„å†ç¨‹ã€‚"
        };

        // ===== è‡ªå®šä¹‰SVGç¬¦å· =====
        function createSymbols() {
            return {
                boat: 'image://data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="M8 28 Q20 32 32 28 L30 20 Q20 24 10 20 Z" fill="none" stroke="currentColor" stroke-width="1.5"/><line x1="20" y1="20" x2="20" y2="8" stroke="currentColor" stroke-width="1"/></svg>',
                crane: 'image://data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><rect x="6" y="4" width="28" height="24" fill="none" stroke="currentColor" stroke-width="1.5"/><line x1="12" y1="4" x2="12" y2="2" stroke="currentColor" stroke-width="1"/><line x1="20" y1="4" x2="20" y2="0" stroke="currentColor" stroke-width="1"/><line x1="28" y1="4" x2="28" y2="2" stroke="currentColor" stroke-width="1"/><circle cx="20" cy="28" r="4" fill="none" stroke="currentColor" stroke-width="1"/></svg>',
                chip: 'image://data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><rect x="8" y="8" width="24" height="24" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="12" y="12" width="16" height="16" fill="none" stroke="currentColor" stroke-width="1"/><line x1="8" y1="12" x2="4" y2="12" stroke="currentColor" stroke-width="1"/><line x1="8" y1="20" x2="4" y2="20" stroke="currentColor" stroke-width="1"/><line x1="8" y1="28" x2="4" y2="28" stroke="currentColor" stroke-width="1"/></svg>',
                metro: 'image://data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="M10 34 L30 34 L32 10 L8 10 Z" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="12" y="14" width="16" height="10" rx="1" fill="none" stroke="currentColor" stroke-width="1"/><circle cx="12" cy="28" r="2" fill="currentColor"/><circle cx="28" cy="28" r="2" fill="currentColor"/><line x1="16" y1="34" x2="24" y2="34" stroke="currentColor" stroke-width="2"/></svg>',
                port: 'image://data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><path d="M4 32 L36 32 L34 36 L6 36 Z" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="12" y="20" width="10" height="12" fill="none" stroke="currentColor" stroke-width="1"/><line x1="12" y1="26" x2="22" y2="26" stroke="currentColor" stroke-width="0.8"/></svg>',
                city: 'image://data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 40 40"><rect x="10" y="12" width="8" height="20" fill="none" stroke="currentColor" stroke-width="1.5"/><rect x="22" y="8" width="8" height="24" fill="none" stroke="currentColor" stroke-width="1.5"/><circle cx="14" cy="16" r="1" fill="currentColor"/><circle cx="14" cy="22" r="1" fill="currentColor"/><circle cx="26" cy="12" r="1" fill="currentColor"/><circle cx="26" cy="20" r="1" fill="currentColor"/></svg>'
            };
        }

        const symbols = createSymbols();

        // ===== ECharts åˆå§‹åŒ– =====
        const myChart = echarts.init(document.getElementById('chart'));

        // ===== èƒŒæ™¯å›¾å½¢ =====
        const bgGraphics = [
            // è¿œå±±
            {
                type: 'polygon',
                shape: {
                    points: [
                        [0, 0.55], [0.15, 0.45], [0.35, 0.57], [0.5, 0.40],
                        [0.7, 0.53], [0.85, 0.43], [1, 0.50], [1, 1], [0, 1]
                    ]
                },
                style: {
                    fill: '#e6e8e6',
                    stroke: 'none'
                },
                left: 0,
                top: 0,
                right: 0,
                bottom: '15%',
                z: -10
            },
            // ä¸­æ™¯å±±
            {
                type: 'polygon',
                shape: {
                    points: [
                        [0, 0.65], [0.2, 0.58], [0.4, 0.68], [0.6, 0.55],
                        [0.8, 0.65], [1, 0.6], [1, 1], [0, 1]
                    ]
                },
                style: {
                    fill: 'rgba(189, 195, 199, 0.25)',
                    stroke: 'none'
                },
                left: 0,
                top: '25%',
                right: 0,
                bottom: 0,
                z: -8
            },
            // è¿‘æ™¯ï¼šæµ·æµª
            {
                type: 'polygon',
                shape: {
                    points: [
                       [0, 0.85], [0.1, 0.88], [0.2, 0.84], [0.3, 0.89],
                       [0.4, 0.85], [0.5, 0.88], [0.6, 0.83], [0.7, 0.89],
                       [0.8, 0.84], [0.9, 0.88], [1, 0.85], [1, 1], [0, 1]
                    ],
                    smooth: 0.5
                },
                style: {
                    fill: 'rgba(52, 152, 219, 0.05)',
                    stroke: 'none'
                },
                left: 0,
                top: '55%',
                right: 0,
                bottom: 0,
                z: -5
            }
        ];

        // ===== å›¾è¡¨é…ç½® =====
        const option = {
            backgroundColor: 'transparent',
            graphic: bgGraphics,
            grid: {
                top: '25%', 
                bottom: '12%',
                left: '5%',
                right: '4%',
                containLabel: true
            },
            tooltip: {
                trigger: 'axis',
                backgroundColor: 'rgba(255, 252, 245, 0.98)',
                borderColor: '#d35400',
                borderWidth: 1,
                padding: 12,
                textStyle: {
                    fontFamily: 'Noto Serif SC',
                    color: '#333',
                    fontSize: 13
                },
                // ä¼˜åŒ– Tooltip æç¤º
                formatter: function(params) {
                    if (!params || params.length === 0) return '';
                    const item = params[0];
                    // æ£€æŸ¥è¿™ä¸€å¹´æ˜¯å¦æœ‰ markPoint
                    const year = item.axisValue;
                    const hasStory = stories[year] !== undefined;
                    
                    let html = `<div style="text-align:center"><span style="font-weight:bold;font-size:1.1em">${item.axisValue}</span><br/><span style="color:#e67e22;font-size:1.3em">â—</span> ${item.value} kmÂ²</div>`;
                    if (hasStory) {
                        html += `<div style="margin-top:5px; font-size:0.8em; color:#e67e22; border-top:1px dashed #ddd; padding-top:3px;">ğŸ‘† ç‚¹å‡»å›¾æ ‡æŸ¥çœ‹å†å²</div>`;
                    }
                    return html;
                }
            },
            dataZoom: [
                {
                    type: 'inside',
                    start: 0,
                    end: 100,
                    zoomOnMouseWheel: 'shift'
                },
                {
                    type: 'slider',
                    show: true,
                    bottom: 40,
                    height: 10,
                    borderColor: 'transparent',
                    backgroundColor: '#f5f5f5',
                    fillerColor: 'rgba(44, 62, 80, 0.1)',
                    handleStyle: {
                        color: '#2c3e50',
                        borderColor: '#fff'
                    },
                    moveHandleSize: 6
                }
            ],
            xAxis: {
                type: 'category',
                boundaryGap: false,
                data: xData,
                axisLine: {
                    lineStyle: { color: '#7f8c8d', width: 1.5 }
                },
                axisTick: { show: false },
                axisLabel: {
                    fontFamily: 'Noto Serif SC',
                    color: '#666',
                    interval: 4,
                    margin: 14,
                    fontSize: 12
                }
            },
            yAxis: {
                type: 'value',
                splitLine: {
                    show: true,
                    lineStyle: {
                        color: '#e8e8e8',
                        type: [4, 4],
                        dashOffset: 0
                    }
                },
                axisLabel: {
                    fontFamily: 'Noto Serif SC',
                    color: '#999',
                    fontSize: 11
                },
                axisLine: { show: false },
                axisTick: { show: false }
            },
            series: [
                {
                    name: 'å»ºæˆåŒºé¢ç§¯',
                    type: 'line',
                    smooth: true,
                    symbol: 'none',
                    lineStyle: {
                        width: 3,
                        color: new echarts.graphic.LinearGradient(0, 0, 1, 0, [
                            {offset: 0, color: '#34495e'},
                            {offset: 0.5, color: '#16a085'},
                            {offset: 1, color: '#c0392b'}
                        ])
                    },
                    areaStyle: {
                        color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [
                            {offset: 0, color: 'rgba(230, 126, 34, 0.35)'},
                            {offset: 0.8, color: 'rgba(230, 126, 34, 0.02)'},
                            {offset: 1, color: 'rgba(255, 255, 255, 0)'}
                        ])
                    },
                    data: yData,
                    markPoint: {
                        symbolSize: [45, 45],
                        label: {
                            show: true,
                            position: 'top',
                            distance: 12,
                            backgroundColor: 'rgba(255,255,255,0.95)',
                            padding: [6, 10],
                            borderRadius: 4,
                            borderColor: '#dcdcdc',
                            borderWidth: 1,
                            color: '#2c3e50',
                            fontFamily: 'Noto Serif SC',
                            fontWeight: 'bold',
                            fontSize: 11,
                            align: 'center',
                            lineHeight: 16,
                            shadowBlur: 5,
                            shadowColor: 'rgba(0,0,0,0.1)',
                            formatter: '{b}\n{c} kmÂ²'
                        },
                        data: [
                            {coord: ['1985', 47.33], value: 47.33, name: 'æ¸”æ‘èµ·æ­¥', symbol: symbols.boat, itemStyle: {color: '#34495e'}},
                            {coord: ['1992', 120.09], value: 120.09, name: 'å»ºè®¾ç‹‚æ½®', symbol: symbols.crane, itemStyle: {color: '#e67e22'}},
                            {coord: ['2000', 425.67], value: 425.67, name: 'é«˜æ–°åˆ¶é€ ', symbol: symbols.chip, itemStyle: {color: '#27ae60'}},
                            {coord: ['2004', 543.76], value: 543.76, name: 'åœ°é“é€šè½¦', symbol: symbols.metro, itemStyle: {color: '#16a085'}},
                            {coord: ['2011', 691.40], value: 691.40, name: 'æ¸¯å£å¤§è¿', symbol: symbols.port, itemStyle: {color: '#2980b9'}},
                            {coord: ['2020', 802.1], value: 802.1, name: 'å›½é™…éƒ½ä¼š', symbol: symbols.city, itemStyle: {color: '#8e44ad'}}
                        ]
                    }
                }
            ],
            animationDuration: 3000,
            animationEasing: 'cubicOut'
        };

        // ===== æ¸²æŸ“ =====
        myChart.setOption(option);

        // ===== äº¤äº’é€»è¾‘ =====

        // ç›‘å¬é¼ æ ‡ç§»åŠ¨ï¼Œæ”¹å˜é¼ æ ‡æ ·å¼ä¸ºæ‰‹å‹ï¼ˆé’ˆå¯¹ MarkPointï¼‰
        myChart.getZr().on('mousemove', function (params) {
            var pointInPixel = [params.offsetX, params.offsetY];
            if (myChart.containPixel('grid', pointInPixel)) {
                // ç®€å•å¤„ç†ï¼šå¦‚æœåœ¨å›¾è¡¨åŒºåŸŸå†…ï¼Œå¹¶ä¸ä¸€å®šæ˜¯æŒ‡é’ˆï¼Œ
                // ECharts å¯¹ markPoint æœ‰å†…ç½®çš„ cursor: 'pointer'ï¼Œ
                // ä½†æˆ‘ä»¬å¯ä»¥é€šè¿‡ç›‘å¬ click äº‹ä»¶æ¥æ›´ç²¾ç¡®æ§åˆ¶
            }
        });

        // ç›‘å¬ç‚¹å‡»äº‹ä»¶
        myChart.on('click', function (params) {
            // ç¡®ä¿ç‚¹å‡»çš„æ˜¯ markPoint
            if (params.componentType === 'markPoint') {
                const year = params.data.coord[0];
                const name = params.data.name;
                const story = stories[year];

                if (story) {
                    showModal(year, name, story);
                }
            }
        });

        // æ¨¡æ€æ¡†æ§åˆ¶å‡½æ•°
        const modalOverlay = document.getElementById('modalOverlay');
        const modalYear = document.getElementById('modalYear');
        const modalTitle = document.getElementById('modalTitle');
        const modalContent = document.getElementById('modalContent');

        function showModal(year, title, content) {
            modalYear.innerText = year;
            modalTitle.innerText = title;
            modalContent.innerText = content;
            modalOverlay.classList.add('active');
        }

        function closeModal() {
            modalOverlay.classList.remove('active');
        }

        // ç‚¹å‡»é®ç½©å±‚å…³é—­
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeModal();
            }
        });

        // é¡µé¢åŠ è½½åçš„æç¤ºåŠ¨ç”»
        setTimeout(() => {
            document.getElementById('clickHint').style.opacity = '1';
            // 3ç§’åæ¶ˆå¤±
            setTimeout(() => {
                document.getElementById('clickHint').style.opacity = '0';
            }, 5000);
        }, 3500); // ç­‰å¾…å›¾è¡¨åŠ¨ç”»åŸºæœ¬å®Œæˆ

        // å“åº”å¼
        window.addEventListener('resize', () => {
            myChart.resize();
        });

        // é‡ç»˜
        function replay() {
            myChart.setOption(option, true);
        }
    </script>
</body>
</html>
